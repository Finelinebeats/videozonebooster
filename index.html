<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vide√≥s Z√≥na K√≠s√©rlet - L√°ncreakci√≥s Rekl√°mok</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: #111;
            color: white;
            overflow-x: hidden;
        }
        
        h1 {
            color: #ff6b6b;
            text-align: center;
            margin-bottom: 10px;
            font-size: 28px;
        }

        .subtitle {
            text-align: center;
            color: #a5b4fc;
            margin-bottom: 20px;
            font-size: 16px;
        }

        /* Gombok */
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 12px 20px;
            border: none;
            background: #222;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid #444;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        button:hover {
            background: #333;
            transform: translateY(-2px);
        }

        .start-btn {
            border-color: #4CAF50;
            background: #2d5a2d;
        }

        .stop-btn {
            border-color: #f44336;
            background: #5a2d2d;
        }

        .auto-btn {
            border-color: #9C27B0;
            background: #4a2d5a;
        }

        .chain-btn {
            border-color: #FF9800;
            background: #5a452d;
        }

        /* Timer display */
        .timer-container {
            text-align: center;
            margin: 20px 0;
        }

        .timer {
            font-size: 48px;
            font-weight: bold;
            color: #ffd93d;
            margin: 10px 0;
        }

        .timer-label {
            font-size: 16px;
            color: #a5b4fc;
        }

        /* Auto repeat display */
        .repeat-container {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }

        .repeat-title {
            font-size: 16px;
            color: #ffd93d;
            margin-bottom: 10px;
        }

        .repeat-info {
            font-size: 14px;
            color: #a5b4fc;
        }

        /* Batch progress */
        .batch-progress {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }

        .batch-step {
            text-align: center;
            flex: 1;
            padding: 10px;
            position: relative;
        }

        .batch-step.active {
            color: #ffd93d;
        }

        .batch-step.completed {
            color: #4CAF50;
        }

        .batch-step::after {
            content: '';
            position: absolute;
            top: 50%;
            right: 0;
            width: 100%;
            height: 2px;
            background: #333;
            z-index: -1;
        }

        .batch-step:last-child::after {
            display: none;
        }

        .batch-step.active::after {
            background: #ffd93d;
        }

        .batch-step.completed::after {
            background: #4CAF50;
        }

        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
            font-size: 14px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #ffd93d;
            margin: 5px 0;
        }

        .stat-label {
            font-size: 12px;
            color: #a5b4fc;
        }

        /* Rekl√°m statisztik√°k */
        .ad-stats {
            background: rgba(255, 193, 7, 0.1);
            border: 1px solid rgba(255, 193, 7, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-size: 14px;
        }

        .ad-title {
            font-size: 16px;
            color: #ffd93d;
            margin-bottom: 10px;
        }

        /* Progress bar */
        .progress-container {
            width: 100%;
            height: 6px;
            background: #333;
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #ffd93d);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Status message */
        .status {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 16px;
            border-left: 4px solid #ff6b6b;
        }

        /* Playback statistics */
        .playback-stats {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .playback-title {
            font-size: 16px;
            color: #ffd93d;
            margin-bottom: 10px;
            text-align: center;
        }

        .playback-info {
            font-size: 14px;
            color: #a5b4fc;
            text-align: center;
        }

        .tip {
            font-size: 12px;
            color: #666;
            margin-top: 20px;
            text-align: center;
            line-height: 1.5;
        }

        .loading {
            text-align: center;
            color: #ffd93d;
            margin: 20px 0;
            font-size: 14px;
        }

        /* √öj v√©delmi indik√°torok */
        .security-indicators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 20px 0;
        }

        .security-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid;
            font-size: 12px;
        }

        .security-card.safe {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.1);
        }

        .security-card.warning {
            border-color: #ff9800;
            background: rgba(255, 152, 0, 0.1);
        }

        .security-card.danger {
            border-color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }

        .risk-monitor {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #ff6b6b;
        }

        .risk-level {
            height: 10px;
            background: linear-gradient(90deg, #4CAF50, #ff9800, #f44336);
            border-radius: 5px;
            margin: 10px 0;
            position: relative;
        }

        .risk-indicator {
            position: absolute;
            top: -2px;
            width: 14px;
            height: 14px;
            background: white;
            border-radius: 50%;
            transform: translateX(-50%);
            transition: left 0.5s ease;
        }

        /* Mem√≥ria monitor */
        .memory-monitor {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #4CAF50;
        }

        .memory-title {
            font-size: 16px;
            color: #ffd93d;
            margin-bottom: 10px;
            text-align: center;
        }

        .memory-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }

        .memory-stat {
            text-align: center;
            padding: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 6px;
        }

        .memory-value {
            font-size: 18px;
            font-weight: bold;
            color: #ffd93d;
            margin: 5px 0;
        }

        .memory-label {
            font-size: 11px;
            color: #a5b4fc;
        }

        .memory-bar {
            height: 8px;
            background: #333;
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }

        .memory-usage {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #ff9800, #f44336);
            width: 0%;
            transition: width 0.5s ease;
        }

        .cleanup-alert {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid #f44336;
            padding: 10px;
            border-radius: 6px;
            margin-top: 10px;
            text-align: center;
            font-size: 12px;
            display: none;
        }

        /* Stealth monitor */
        .stealth-monitor {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #9C27B0;
        }

        .stealth-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }

        .stealth-metric {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            padding: 5px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 4px;
        }

        .stealth-status {
            text-align: center;
            font-size: 14px;
            color: #a5b4fc;
            margin-top: 10px;
        }

        /* Vide√≥s player kont√©ner - ALUL */
        .video-container {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid #2196F3;
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            max-height: 300px;
            overflow-y: auto;
            z-index: 100;
        }

        .video-title {
            font-size: 16px;
            color: #ffd93d;
            margin-bottom: 10px;
            text-align: center;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }

        .video-player {
            background: #000;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
        }

        .video-player:hover {
            transform: translateY(-3px);
        }

        .player-container {
            width: 100%;
            height: 120px;
            background: #000;
            cursor: pointer;
        }

        .video-info {
            padding: 8px;
            font-size: 10px;
            color: #a5b4fc;
            text-align: center;
        }

        .ad-indicator {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255, 193, 7, 0.9);
            color: #000;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            font-weight: bold;
        }

        .click-status {
            position: absolute;
            bottom: 25px;
            left: 5px;
            background: rgba(76, 175, 80, 0.9);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 9px;
            font-weight: bold;
        }

        /* Chain reaction indicator */
        .chain-indicator {
            position: absolute;
            top: 5px;
            left: 5px;
            background: rgba(255, 152, 0, 0.9);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 9px;
            font-weight: bold;
        }

        /* Chain reaction info */
        .chain-info {
            background: rgba(255, 152, 0, 0.1);
            border: 1px solid rgba(255, 152, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div id="am-experiment">
        <h1>üé¨ Vide√≥s Z√≥na K√≠s√©rlet - L√ÅNCREAKCI√ìS REKL√ÅMOK</h1>
        <p class="subtitle">Vide√≥s player-ek + L√°ncreakci√≥s rekl√°m ind√≠t√°s + Manu√°lis kezd√©s + Automatikus folytat√°s</p>

        <!-- L√°ncreakci√≥ inform√°ci√≥k -->
        <div class="chain-info">
            <div style="color: #ffd93d; margin-bottom: 10px;">
                üî• L√ÅNCREAKCI√ìS RENDSZER - Manu√°lis ind√≠t√°s, automatikus folytat√°s
            </div>
            <div>Kezd√©s: <strong>Kattints az els≈ë vide√≥ra manu√°lisan!</strong></div>
            <div>Folytat√°s: <strong>Automatikus l√°ncreakci√≥ az √∂sszes t√∂bbi vide√≥n</strong></div>
            <div>Pr√≥b√°lkoz√°sok: <span id="chainAttempts">0</span> | Sikeres l√°ncok: <span id="successfulChains">0</span></div>
        </div>

        <!-- Rekl√°m statisztik√°k FEL√úL -->
        <div class="ad-stats">
            <div class="ad-title">üìä Rekl√°m Statisztik√°k</div>
            <div>√ñsszes rekl√°m: <span id="totalAds">0</span> | Sikeres rekl√°mok: <span id="successfulAds">0</span></div>
            <div>Rekl√°m bev√©tel becsl√©s: $<span id="adRevenue">0.00</span></div>
        </div>

        <!-- V√©delmi indik√°torok -->
        <div class="security-indicators">
            <div class="security-card safe" id="patternCard">
                <div>üéØ Ind√≠t√°si Minta</div>
                <div>L√°ncreakci√≥s</div>
            </div>
            <div class="security-card safe" id="timingCard">
                <div>‚è±Ô∏è Id≈ëz√≠t√©s</div>
                <div>V√©letlenszer≈±</div>
            </div>
            <div class="security-card safe" id="behaviorCard">
                <div>üë§ Viselked√©s</div>
                <div>Emberi kezd√©s</div>
            </div>
            <div class="security-card safe" id="riskCard">
                <div>üõ°Ô∏è Kock√°zat</div>
                <div>Alacsony</div>
            </div>
        </div>

        <!-- Kock√°zat monitor -->
        <div class="risk-monitor">
            <div style="text-align: center; color: #ffd93d; margin-bottom: 10px;">
                üéõÔ∏è Viselked√©s Monitor - L√°ncreakci√≥s m√≥d
            </div>
            <div class="risk-level">
                <div class="risk-indicator" id="riskIndicator" style="left: 10%;"></div>
            </div>
            <div style="display: flex; justify-content: space-between; font-size: 12px; color: #a5b4fc;">
                <span>Alacsony</span>
                <span>K√∂zepes</span>
                <span>Magas</span>
            </div>
            <div id="riskStatus" style="text-align: center; margin-top: 10px; font-size: 14px;">
                ‚úÖ V√°rakoz√°s manu√°lis ind√≠t√°sra
            </div>
        </div>

        <!-- Mem√≥ria Monitor -->
        <div class="memory-monitor">
            <div class="memory-title">üß† Mem√≥ria Monitor - Val√≥s idej≈± RAM figyel√©s</div>
            <div class="memory-info">
                <div class="memory-stat">
                    <div class="memory-value" id="memoryUsage">0 MB</div>
                    <div class="memory-label">Haszn√°lat</div>
                </div>
                <div class="memory-stat">
                    <div class="memory-value" id="memoryLimit">0 MB</div>
                    <div class="memory-label">Limit</div>
                </div>
                <div class="memory-stat">
                    <div class="memory-value" id="memoryPercent">0%</div>
                    <div class="memory-label">Kihaszn√°lts√°g</div>
                </div>
                <div class="memory-stat">
                    <div class="memory-value" id="cleanupCount">0</div>
                    <div class="memory-label">Tiszt√≠t√°sok</div>
                </div>
            </div>
            <div class="memory-bar">
                <div class="memory-usage" id="memoryBar"></div>
            </div>
            <div class="cleanup-alert" id="cleanupAlert">
                üö® Magas mem√≥riahaszn√°lat! Automatikus tiszt√≠t√°s akt√≠v...
            </div>
            <div style="text-align: center; font-size: 12px; color: #a5b4fc; margin-top: 10px;">
                ‚ö° Automatikus tiszt√≠t√°s: 70% felett | üîÑ Manu√°lis: 
                <button id="manualCleanup" style="padding: 4px 8px; font-size: 10px; margin-left: 5px;">K√©nyszer√≠tett Tiszt√≠t√°s</button>
            </div>
        </div>

        <!-- Stealth Monitor -->
        <div class="stealth-monitor">
            <div style="text-align: center; color: #ffd93d; margin-bottom: 10px;">
                üïµÔ∏è‚Äç‚ôÇÔ∏è Fejlett Rejt≈ëz√©si Monitor
            </div>
            <div class="stealth-metrics">
                <div class="stealth-metric">
                    <span>Strat√©gia:</span>
                    <span id="currentStrategy">lancreakcios</span>
                </div>
                <div class="stealth-metric">
                    <span>User Agent:</span>
                    <span id="currentUA">Rotating</span>
                </div>
                <div class="stealth-metric">
                    <span>Id≈ëz√≥na:</span>
                    <span id="currentTZ">Dynamic</span>
                </div>
                <div class="stealth-metric">
                    <span>Playback Profile:</span>
                    <span id="currentProfile">Variable</span>
                </div>
            </div>
            <div class="stealth-status" id="stealthStatus">
                ‚úÖ L√°ncreakci√≥s m√≥d akt√≠v
            </div>
        </div>

        <!-- F≈ë vez√©rl≈ëk -->
        <div class="controls">
            <button class="start-btn" id="startButton">
                üöÄ Batch Bet√∂lt√©s
            </button>
            <button class="chain-btn" id="chainButton">
                üî• L√°ncreakci√≥ Ind√≠t√°sa
            </button>
            <button class="auto-btn" id="autoButton">
                üîÑ Automatikus Ism√©tl√©s
            </button>
            <button class="stop-btn" id="stopButton">
                ‚èπÔ∏è Le√°ll√≠t√°s
            </button>
        </div>

        <!-- Automatikus ism√©tl√©s inform√°ci√≥k -->
        <div class="repeat-container">
            <div class="repeat-title">üîÑ Automatikus Ism√©tl√©s</div>
            <div class="repeat-info">
                K√∂vetkez≈ë ind√≠t√°s: <span id="nextStartTime">-</span><br>
                Ism√©tl√©si id≈ëtartam: <span id="repeatDuration">-</span> perc<br>
                Aktu√°lis √°llapot: <span id="autoStatus">Inakt√≠v</span>
            </div>
        </div>

        <!-- Timer -->
        <div class="timer-container">
            <div class="timer" id="timer">06:00</div>
            <div class="timer-label" id="timerLabel">H√°tral√©v≈ë id≈ë az aktu√°lis batch-ben</div>
        </div>

        <!-- Batch progress -->
        <div class="batch-progress" id="batchProgressContainer">
            <!-- Dinamikusan gener√°l√≥dik -->
        </div>

        <!-- Stats -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-value" id="readyCount">0</div>
                <div class="stat-label">Bet√∂lt√∂tt Player-ek</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="activeCount">0</div>
                <div class="stat-label">Akt√≠v Zen√©k</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalCount">389</div>
                <div class="stat-label">√ñsszes Z√≥na</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="currentBatch">-</div>
                <div class="stat-label">Akt√≠v Batch</div>
            </div>
        </div>

        <!-- Progress bar -->
        <div class="progress-container">
            <div class="progress-bar" id="loadProgress"></div>
        </div>

        <!-- Playback statistics -->
        <div class="playback-stats">
            <div class="playback-title">üìä Lej√°tsz√°s Statisztik√°k</div>
            <div class="playback-info">
                <div id="playbackCount">√ñsszes lej√°tsz√°s: 0</div>
                <div id="monthlyStats">Havi bont√°s:</div>
            </div>
        </div>

        <!-- Status √ºzenet -->
        <div class="status" id="statusMessage">
            Kattints a "Batch Bet√∂lt√©s" gombra, majd az "L√°ncreakci√≥ Ind√≠t√°sa" gombra!<br>
            VAGY kattints manu√°lisan az els≈ë vide√≥ra a l√°ncreakci√≥ ind√≠t√°s√°hoz!
        </div>

        <!-- Loading -->
        <div class="loading" id="loadingMessage" style="display: none;">
            Player-ek bet√∂lt√©se folyamatban...
        </div>

        <!-- Vide√≥s Player Kont√©ner - ALUL -->
        <div class="video-container">
            <div class="video-title">üé¨ Aktu√°lis Vide√≥k - Kattints az els≈ëre a l√°ncreakci√≥hoz!</div>
            <div class="video-grid" id="videoGrid">
                <!-- Vide√≥k ide ker√ºlnek dinamikusan -->
            </div>
        </div>

        <p class="tip">
            ‚úÖ 389 z√≥na dinamikus batch-ekben (60-80 z√≥na/batch)<br>
            üî• √öJ: L√°ncreakci√≥s rendszer - manu√°lis kezd√©s, automatikus folytat√°s<br>
            üñ±Ô∏è Manu√°lis kattint√°s az els≈ë vide√≥ra ind√≠tja a l√°ncreakci√≥t<br>
            ‚ö° Automatikus kattint√°s folytatja a t√∂bbin - t√∂bbsz√∂r pr√≥b√°lkozhat<br>
            üí∞ Rekl√°mok akt√≠vak - emberi interakci√≥ miatt magasabb bev√©tel<br>
            üîÑ Automatikus ism√©tl√©s 40-60 perc k√∂z√∂tt v√©letlenszer≈±en<br>
            üõ°Ô∏è Viselked√©s Monitor - val√≥s idej≈± kock√°zat√©rt√©kel√©s<br>
            üß† Mem√≥ria Monitor - automatikus tiszt√≠t√°s 70% RAM felett<br>
            üïµÔ∏è‚Äç‚ôÇÔ∏è Fejlett Rejt≈ëz√©s - YouTube algoritmus el≈ël val√≥ elrejt≈ëz√©s<br>
            üìä Statisztik√°k - lej√°tsz√°sok sz√°m√°nak nyomonk√∂vet√©se<br>
            üîÄ Linkek v√©letlenszer≈± kever√©se minden ciklus ut√°n
        </p>
    </div>

    <!-- YouTube IFrame API -->
    <script src="https://www.youtube.com/iframe_api"></script>
    
    <script>
        // V√âDELMI KONFIGUR√ÅCI√ì
        const SECURITY_CONFIG = {
            // Batch m√©ret v√©letlenszer≈±s√©g - M√ìDOS√çTVA: 60-80
            BATCH: {
                MIN_SIZE: 60,
                MAX_SIZE: 80,
                TARGET_TOTAL: 389
            },
            
            // Id≈ëtartam v√©letlenszer≈±s√©g
            TIMING: {
                MIN_DURATION: 240,    // 4 perc
                MAX_DURATION: 480,    // 8 perc
                MIN_REPEAT: 40,       // 40 perc
                MAX_REPEAT: 60        // 60 perc
            },
            
            // Ind√≠t√°si k√©sleltet√©sek
            STARTUP: {
                MAX_DELAY: 30000,     // 30 m√°sodperc
                BATCH_STAGGER: 5000   // 5 m√°sodperc batch-ek k√∂z√∂tt
            },
            
            // Le√°ll√°si k√©sleltet√©sek
            SHUTDOWN: {
                MAX_DELAY: 120000,    // 120 m√°sodperc
                GRACEFUL_DURATION: 120 // 2 perc graci√°lis le√°ll√°s
            },
            
            // Kock√°zati k√ºsz√∂b√∂k
            RISK: {
                LOW: 0.3,
                MEDIUM: 0.6,
                HIGH: 0.8
            },

            // Mem√≥ria konfigur√°ci√≥
            MEMORY: {
                CLEANUP_THRESHOLD: 0.7,  // 70% - automatikus tiszt√≠t√°s k√ºsz√∂b
                MONITOR_INTERVAL: 2000,  // 2 m√°sodperc - mem√≥ria ellen≈ërz√©s
                AGGRESSIVE_CLEANUP: true // Agressz√≠v tiszt√≠t√°s enged√©lyez√©se
            }
        };

        // FEJLETT ELREJT≈êZ√âSI KONFIGUR√ÅCI√ì
        const ADVANCED_STEALTH_CONFIG = {
            // 1. V√âLETLENSZER≈∞S√âGI PROFIL
            RANDOMIZATION: {
                PLAYBACK_SPEEDS: [0.75, 0.9, 1.0, 1.1, 1.25, 1.5],
                VOLUME_LEVELS: [10, 20, 30, 40, 50, 60, 70, 80],
                SESSION_LENGTHS: [2, 4, 6, 8, 12, 24],
                BREAK_DURATIONS: [5, 10, 15, 30, 45, 60]
            },

            // 2. VISELKED√âSI MINT√ÅZATOK
            BEHAVIORAL_PATTERNS: {
                HUMAN_TYPING_DELAYS: [100, 300, 500, 800, 1200],
                MOUSE_MOVEMENTS: true,
                SCROLL_BEHAVIOR: true,
                TAB_SWITCHING: true
            },

            // 3. H√ÅL√ìZATI V√âDELEM
            NETWORK: {
                REQUEST_THROTTLING: true,
                RANDOM_USER_AGENTS: true,
                IP_ROTATION_SIMULATION: true,
                DNS_CACHE_MANAGEMENT: true
            },

            // 4. B√ñNG√âSZ≈ê AL√Å√çR√ÅS M√ìDOS√çT√ÅS
            BROWSER_FINGERPRINT: {
                CANVAS_NOISE: true,
                WEBGL_SPOOFING: true,
                TIMEZONE_VARIATION: true,
                SCREEN_RESOLUTION_CHANGE: true,
                PLUGIN_RANDOMIZATION: true
            },

            // 5. ID≈êZ√çT√âSI TOLVAIK
            TIMING_DEFENSES: {
                NON_LINEAR_PATTERNS: true,
                TIME_SKEWING: true,
                DAY_NIGHT_CYCLES: true,
                WEEKEND_BEHAVIOR: true
            }
        };

        // √ñsszes YouTube video ID - 389 link!
        let allYouTubeLinks = [
            "cMp-R_FqtQA", "aZgSNIe6cBY", "bOopMi29kRY", "tYuYJ1hIsi8", "4-WtHjXLNCo",
            "-uhGPF_cgOk", "kWDoWMdbGMA", "ZVWzoHpir5U", "orylSDsIgnI", "wn73hwpvW8A",
            "l9pltc3Hb9I", "hCZLWDi2IR8", "cwOHVbr7Vkc", "BvHsut1cDYk", "pzp6QRNMeXE",
            "AVZjk1IO1nM", "Czg-kJ0bi7U", "F3hjmIFCIis", "TTEP3yTfN3E", "UWIVJzuN640",
            "6_bL4LYsap8", "VEpxpFGuCzc", "rWKMZRJw9Co", "OIKfpX9MOUw", "VzNrZ-62n7E",
            "f8BCZZl6Vzw", "6bT_V7GV2t4", "YrUiKHPuHwI", "bcQypBjDoYY", "6a8_VRHJByQ",
            "nB-GkX4Bjr8", "8CMER1ePJ3E", "TfwdiIKHsuA", "mXD8IEpOi3Y", "KBY-LTyNtUo",
            "UTiYkI2MkJs", "1v6lzdZajrc", "xbEAO9qyU9A", "qH5kYkXbjGM", "OcCyAFWm4fA",
            "PKXWWamkWns", "wfa75c14lLM", "7HragoeZlOA", "jOD9SMgq9-c", "fZCExIFptRg",
            "qfWPq0U_2jM", "vnGMYPNxIN8", "-TNgmGmN0Ak", "smUEglbjtqM", "nZl84m9n6Gk",
            "E4-lYY-DPkw", "8GxdKF15a6k", "L-gwG1wZLDQ", "pvnL2LSabeg", "3fFB3dhajLM",
            "zvZrZ76aBnY", "ShkG6Ph2oiE", "3dl7fSt2oCA", "rSxwTDNwdQs", "Twfx_0KXmjY",
            "l8y9-J7WCwg", "xLF3inAjywY", "W-QW_w3vPO0", "aV78cB-YKdM", "kua-4tBkvfM",
            "iUWLkoPFqgc", "9TVFHnk5hlA", "fPz9CctBNOs", "v3HDlcXnPpg", "hHDB_gTuCOc",
            "epi-kCVvNSo", "alVH5TBswfA", "8fzcEY2JjyQ", "f1AUwkaBJXE", "W-PvCCMijMs",
            "ppJmqLHXSQI", "4xuAWpUtmq0", "Ot7vtGtTM-I", "F_6GiGlsOBI", "ot9Bilqh6lA",
            "Plfh8_bcdIY", "MUtUxi1L2jLg", "qLD50U4kIJQ", "kfLNXrYzRio", "Ckl-9Cp_F6I",
            "IleqlrxKbac", "ia43xYLjEx8", "ULsVGPcBEAw", "6GZ39I1WgX4", "n9aHRHX0Jwo",
            "nVYF-WJE6to", "R8YcpZ-klGM", "jpEbpRzMZS0", "CzJgrJhfvJA", "BJOKOxwZ8hQ",
            "7JJ_NOmnTNI", "xeXUl0ZGfek", "1PrTEj-czks", "nYl9il7yTXM", "fC0cIXaDQdk",
            "U26VU5Bq7gk", "xk6aEaZ-mrU", "UkoJCiNSwEs", "Pg8qP1s8Gpg", "5MxuWu1hsyM",
            "4DaZRhtX7ts", "wOzT4ICTdco", "kkylvlj19a0", "Ca-FRketiu4", "edjjza1Y7x4",
            "U3yTAJ65cL0", "tHryixWXpBs", "eOnVbSrztWA", "MGH7AFeLACU", "n8DPv_yBLtM",
            "uSEpqSwrc1M", "AL9MvIHB2uE", "8ILwT6Gnr_I", "ce1VElw5KRA", "_rCRLWI7uUo",
            "FKpruWSbVsU", "7raYc91KZPM", "cz5pPNaVu-A", "miQhliUeR-4", "j-ph59b0mrc",
            "ENBk4K758Dg", "vmqV2tvgTWo", "T2OqXKZFPgs", "G_ApRDmrT-Y", "eWRAaYNtvvQ",
            "aQkOJM-zBC4", "Iwe6P8aMhW4", "ymHm_38NOaY", "E1IB3QPnXeA", "aUPqrJqrZPk",
            "UhsN-0Z8Has", "Cq-QPIhqPkw", "ZWM_OPb11ZY", "MWJ9bdu8qUM", "_eJ1TirnY7g",
            "V4jJhIbQBI8", "ebPXXmEO7mo", "HSRDp4-MLwY", "q2NiGxkMKSU", "9t_nPX-jDVk",
            "xIeh_KOmAEs", "vNfpqoZL1p4", "nB8UiZYmUR0", "P_RFdkMLNt8", "KSjTDGYeyjk",
            "bprGVaExyO8", "qZAOYVUf0Vg", "Z-jW7u0ZSkI", "BRNcjrv2VtE", "SutVma3u32E",
            "WUt_8NWLOik", "3L5sV8vncmg", "PKl82l6Dt3w", "w3rGzFxCWgw", "qYaGwpp8w_0",
            "8E3IBzQO7jo", "w-2_5BXUUqI", "d_YAD8dSDzw", "NVkO1_HE6iE", "-OK4AlPcoJs",
            "CI0PRetRoE0", "X9zo5S1hLhE", "GAGtZysIsw8", "vNqlAEZy3IE", "5V_2MqMyPow",
            "J8vu_NW4sdw", "wGXbZDnG9oc", "IOOYwxxRe_A", "EhbI07Zpk_A", "6lObl0ZdB4o",
            "VT2NheI5AX8", "xdfsqe0WITw", "eoPqxCR9uGQ", "SdC1xTRMNfc", "bQy70JcwAyY",
            "d6xtVsMGtww", "qqymyxP4AYw", "ectTCvuDH6k", "vmR-9g4FhZs", "S8fI4KPhw3o",
            "CAvCQZLJ3Uk", "Xy4yD5pIqZQ", "EpWqbIZHUko", "wwmKBpfyMNc", "a_tIFBNQ070",
            "ztAT5yD1yLw", "cfCjQFuj8bY", "cvhU_mq87Qc", "XE-Wz9Zmtko", "-QAlRoe2OTE",
            "-aKvjO-FpSM", "6BmSFvK5djk", "a1qs6498g_A", "ysbA3S0epuI", "SQy3zeux_-c",
            "OzY7kI5xOpc", "lr-xfRQorms", "OHSNjX5eCwI", "u1l_vNVyOjI", "ve8BI7w025Q",
            "No3abRpVc68", "SVBelCAslmM", "0js8o0YFyo0", "FuHSXTbKnCU", "UjnzrjOORh0",
            "AumZpXXeJ2I", "mt_Fy6iwHtI", "WP_YMq_izyE", "7ozh91sg0-M", "-uYvT9ApPr0",
            "M_xfPV1TP2Y", "32PdaIJw_CI", "Twfx_0KXmjY", "f7uwKg3uiEI", "F8r42kkh-tM",
            "lIXSe9tvn_A", "lJjRQCOgMwQ", "yRUVMRIyeQA", "3NaCBWzRqok", "KFmmJDmiFBQ",
            "m2iSVowniXg", "LgmzYLj0e9E", "b5Qyej_NeEI", "zzzWHpkPFbM", "amEeugZXGQg",
            "WZiQjdjWw58", "jSksZT3jwl4", "skuE9unvAPo", "WPvjMFOhXtc", "oQHvIX2TkFs",
            "TQcG5kSI_s8", "yqzgMqdDcHw", "CvumcA54M6s", "Sg3E3Nv6ldY", "iJoGzA0wtlo",
            "vTeSgrKhDQw", "brE4aQAdgi8", "EJtThjzjldM", "CnTFDgE1gec", "gJMqMPnOU94",
            "5cO0fx09eoE", "UBNYYTFCCD8", "NsgDJ6ufaho", "fsZGq-4qJng", "o5DsOdSZP5k",
            "rHwRFhRMb5w", "quSgniKvxuY", "O55cCp4jNLM", "1cSuzphxi8c", "cWb0Io3wKVs",
            "AADSvz6ckz8", "GIsP_4w7gCE", "i2X4y-Kx6XM", "13DRS3Mqxc4", "yrA5Al5y20U",
            "CEHOTp9ACkI", "WiDQhUaUP80", "mGU7grNdizo", "P61S0x2cAOM", "nWG4sxZsTFo",
            "ea3PCQK6QME", "zo18xABy4AI", "0LXByPMRdhY", "X0Tl_iJF3-o", "1iWt5EWNfHM",
            "0cnBEAig9yM", "2IWT3SFhGIQ", "V8kKOQCSxHE", "AVJSQuRa5RM", "0W2DDXbrYx4",
            "qttDZyNuDyc", "S_DBaArmXM8", "oo5zAjRolMs", "nhx4sNtOY28", "JYGyBpWs2Xw",
            "E5gx3dPomrg", "1vhNDygrN9Q", "Gd4MvlUosuc", "7NGuG54EhTc", "RzJ27Kx7bxw",
            "Rcqe7cGa-FI", "3BSLzWRXz5s", "D-P4Fm6b4zg", "fjFEGCnCF04", "BDvZOVrTOjM",
            "6Uqg0R1V_yQ", "iajcLSonbW0", "2-3SQhkyVAE", "V73SeV5T2t0", "vfosnIxVC6I",
            "M3fKb_qypzw", "DfhRsyhuXYY", "S1vew5sFMBY", "1YNtZ7jv5X8", "_TUSYYcJJo8",
            "20OPEnUOgTM", "FcylxgJRV8A", "woOrP4ODNrc", "d-6UYtQTWuU", "K2fIiTZY7aE",
            "kR_FfvtTRRQ", "Qi_VxYnhSe0", "b7KWWnOEN9o", "TxfZN5kkGNA", "4ue1cf6bm1U",
            "eRJj_bMz8uc", "qj5K2fGlL4s", "CFupVR_6QQM", "48Yle_F4CDM", "Nflyj2GTcxk",
            "30Tp6mDlruo", "UP8OuUoCjoQ", "b-DHemNvyWM", "VqCH4IrWkcg", "eYmWdJM1fXo",
            "EGiA648irw8", "9HcB8rM-l9k", "Ze_rF168Qgw", "enUHpqdjBXA", "ByIccEjGhio",
            "gDe3W4sTeYk", "ao4cUUDzGWE", "fjXzxotZ_Zg", "9IHdWhSMJpA", "O4X-itUd124",
            "9Lo7jUSMsZ4", "IpqnRi4Mm9M", "9NKhe80947A", "8GwyHTPvZg8", "UV3-_TupXRM",
            "J9CqUnr5mjQ", "4XRm0NUb2BI", "otXyjpkODVQ", "SU1neRnrbxA", "CZt3vYstA68",
            "75z2XetOiJI", "iQn8uPP4P2Y", "tcd_1eLsQl4", "ltTVPgMNCeQ", "SNE6WzUYc0A",
            "O6s9WJBxEi0", "yal0HoeQCMc", "RxIqReGbml4", "VP6El8jvlJw", "Oa7n-0s0QNY",
            "hmnBN1_WlrQ", "UW9zBXoxNY4", "PvGsdIZ50J8", "KJpG0cZy-Fw", "8AU2yYeQmx8",
            "0cixI-eAL9I", "vpiSeiOheU0", "N_JzHl0uxNU", "C5ZeGUOWWCE", "TyLUKUZgDmY",
            "-H-__l8CcKU", "TMVjJHIp5-g", "q-8oyMD-3YQ", "kegasmqaq6E", "OiE6gaLGuCQ",
            "4EBBl9IlovU", "BMTAC3xBqyg", "1bcJu7ofC-Q", "xTMU5q5R2mA", "bx0Qt6rjxIg",
            "faM25qwtJ20", "jkyJpPJ_dNk", "0OpOzFZ8440", "9dt7V2d6hQc", "8eMMV-gdDgQ",
            "qxDs9jkPAxo", "fyMW9dT6PUI", "EfsoOpbh_nI", "axEHqzwdiiI", "az79_vFF8Cs",
            "ExR0p2VCtPI", "Gf8IveD8YqY", "VJ7aEJTxQ1E", "XqrHwpxLpko", "t8ulrBBgVw0",
            "S7YOvummsqo", "ag1K6tU56bA", "mr2nutBPpkQ", "aJoIaVUK8uE", "Ljc4nFmA5Aw",
            "-hH1uSXXC28", "u6dzPVqwFEE", "oPjqt2E2CTw", "zDM5S98lbRY", "KY-pRea41xc",
            "3f8IO2e5D6E", "7k-WWVMpcdA", "WJ_PkfAytyM", "QbxDNXgCX7E", "PAfBiqiBjCU",
            "8xE8AqyLMS0", "M40_IApObCo", "3xUk91W_FWU", "jVnjIIC3ATY", "cnA7YmepUiA",
            "XmkcnTeL0Q0", "hiq33dPmTBM", "XjVz4ztJdSk", "607GsFWcn_U", "LRkHvV75LbY",
            "qaClTvvBbLg", "nhMUOBzlzEo", "Zjjb6UCDjos", "1xnKwv38IIc", "v8ijjUh2-Ww",
            "BhBzixHMdOE", "jQAXQ2ljlLE", "nNJN8wnSwWE", "lfmLv56uNOk", "7yajO2dbIbs",
            "XB9HV96Y3OM", "69aUZWahu3Q", "PtsBijAUqiE", "X3Sj74eFuo8", "ZcNGMoj9KZw",
            "L9qozw78_7I", "p_EFoBQynKc", "k1wnrXeIhjo", "ithmHO7zZVI", "kgr-NiCNrY8",
            "IhzRncJo6lE", "ElgF6FCiGI4", "l5epGxTQnzA", "6NAEhZnbNgQ", "LQKwIG1XJ9Q",
            "GKoLWKEURjw", "g_HD8IkH_iI", "OodroBam7Kk", "7f2gfS0dGmo", "G0LL06I254U",
            "iTCVDL-FNzE", "PutRXdLNJY8", "Tst3uPVsGZI", "5WwRIzOVKT8", "_cuTCzHF-4I",
            "Qpka-DQTovI", "boDC_kOK5TY", "ZWeN8EHbMaA", "fAz3665jgEM", "JWPO6BpvQrE",
            "0Awu6_UW3J0", "hNeDBHOy6fo", "Q-BDuX13ukY", "Gs9MZL73VVY", "3Qz5UZ9YByM",
            "nmPn747Pke8", "Q3TKlcf9tGk", "TBmvveW2yJk", "O9-Y1ND4NQc", "izBAI8IaTy8",
            "GorzyRBNhZM", "P5xIBQj05Tg", "nssqiGPy4_E", "PKbpcnnzuw0", "HkK9CvD9z00",
            "LFFUSqsmqvo", "FGrayRlYvMo", "cZgHIcEXDY8", "TTCLh8C938Q", "pPp40rLjZ1g",
            "EtiYmLhcsNg", "7AVDaTOJU94", "7W1r3NCwfVI", "Maeu07NPLY4", "YuU5YtWAhDw",
            "rJuFqF14A-c", "4Nw37OGHd0s", "PPfT7NiGscA", "r6NDDLdePng", "KnNV4CoRPzU",
            "xZcZ2aM6rhs", "kmIbtT04X6A", "5n8ImtckRUM", "zDYwMZMwc4M", "VLzxU2pi1ck",
            "P4rQpJX1Qzs", "0rNJ6FxjmYU", "-mFUKGYbnEM"
        ];

        // Dinamikus batch gener√°l√°s - M√ìDOS√çTVA: 60-80 k√∂z√∂tti batch m√©ret
        function generateDynamicBatches() {
            let batches = [];
            let remainingZones = SECURITY_CONFIG.BATCH.TARGET_TOTAL;
            let batchNumber = 1;
            
            while (remainingZones > 0) {
                // V√©letlenszer≈± batch m√©ret 60-80 k√∂z√∂tt
                const maxBatchSize = Math.min(SECURITY_CONFIG.BATCH.MAX_SIZE, remainingZones);
                const minBatchSize = Math.min(SECURITY_CONFIG.BATCH.MIN_SIZE, remainingZones);
                
                const batchSize = Math.floor(
                    Math.random() * (maxBatchSize - minBatchSize + 1)
                ) + minBatchSize;
                
                const startIndex = batches.reduce((sum, batch) => sum + batch.size, 0);
                const endIndex = startIndex + batchSize - 1;
                
                batches.push({
                    start: startIndex,
                    end: endIndex,
                    size: batchSize,
                    name: `${batchNumber}. Batch`,
                    duration: getRandomDuration()
                });
                
                remainingZones -= batchSize;
                batchNumber++;
            }
            
            return batches;
        }

        // V√©letlenszer≈± id≈ëtartam
        function getRandomDuration() {
            return Math.floor(
                Math.random() * (SECURITY_CONFIG.TIMING.MAX_DURATION - SECURITY_CONFIG.TIMING.MIN_DURATION + 1)
            ) + SECURITY_CONFIG.TIMING.MIN_DURATION;
        }

        // V√©letlenszer≈± ism√©tl√©si id≈ë
        function getRandomRepeatDuration() {
            return Math.floor(Math.random() * (SECURITY_CONFIG.TIMING.MAX_REPEAT - SECURITY_CONFIG.TIMING.MIN_REPEAT + 1)) 
                   + SECURITY_CONFIG.TIMING.MIN_REPEAT;
        }

        // Linkek v√©letlenszer≈± kever√©se - √öJ FUNKCI√ì
        function shuffleYouTubeLinks() {
            console.log('üîÄ YouTube linkek kever√©se √∫j ciklushoz...');
            
            for (let i = allYouTubeLinks.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [allYouTubeLinks[i], allYouTubeLinks[j]] = [allYouTubeLinks[j], allYouTubeLinks[i]];
            }
            
            // Resetelj√ºk a player-eket is
            youtubePlayers = new Array(allYouTubeLinks.length);
            playersReady = 0;
            activePlayers = 0;
            
            document.getElementById('statusMessage').innerHTML = 
                'üîÄ Linkek √∫jra keverve k√∂vetkez≈ë ciklushoz!';
            
            updateStats();
        }

        // Dinamikus batch-ek
        let batches = generateDynamicBatches();

        let youtubePlayers = new Array(allYouTubeLinks.length);
        let playersReady = 0;
        let activePlayers = 0;
        let currentBatchIndex = -1;
        let isLoading = false;
        let timerInterval = null;
        let timeLeft = 360;
        let autoRepeatInterval = null;
        let isAutoRepeatActive = false;
        let nextRepeatTime = null;
        let repeatDuration = 0;
        let gracefulStopTimeouts = [];
        let cycleCount = 0; // √öJ: Ciklus sz√°ml√°l√≥
        
        // L√°ncreakci√≥s v√°ltoz√≥k - √öJ
        let chainReactionActive = false;
        let chainReactionStarted = false;
        let chainAttempts = 0;
        let successfulChains = 0;
        let manualStartIndex = -1;
        
        // Lej√°tsz√°si statisztik√°k
        let playbackStats = {
            totalPlaybacks: 0,
            monthlyStats: {}
        };

        // Rekl√°m statisztik√°k
        let adStats = {
            totalAds: 0,
            successfulAds: 0,
            estimatedRevenue: 0,
            adEvents: []
        };

        // Kock√°zat√©rt√©kel√©s
        let riskAssessment = {
            patternScore: 0,
            timingScore: 0,
            behaviorScore: 0,
            totalScore: 0,
            lastUpdate: Date.now()
        };

        // Mem√≥ria monitor
        let memoryStats = {
            cleanupCount: 0,
            lastCleanup: null,
            totalMemoryFreed: 0,
            monitoringActive: true
        };

        // Stealth rendszer
        let currentStealthStrategy = 'lancreakcios';
        const stealthStrategies = {
            balanced: {
                batchSize: { min: 60, max: 80 },
                timing: { min: 240, max: 480 },
                randomization: 0.5
            },
            conservative: {
                batchSize: { min: 30, max: 60 },
                timing: { min: 180, max: 360 },
                randomization: 0.8
            },
            aggressive: {
                batchSize: { min: 70, max: 80 },
                timing: { min: 300, max: 600 },
                randomization: 0.3
            },
            lancreakcios: {
                batchSize: { min: 60, max: 80 },
                timing: { min: 240, max: 480 },
                randomization: 0.6
            }
        };

        // User Agent rot√°ci√≥
        const userAgents = [
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0',
            'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Edge/120.0.0.0'
        ];

        // ========== L√ÅNCREAKCI√ìS FUNKCI√ìK ==========

        // Manu√°lis ind√≠t√°s kezel√©se - √öJ FUNKCI√ì
        function setupManualStart() {
            if (currentBatchIndex < 0) return;
            
            const batch = batches[currentBatchIndex];
            manualStartIndex = batch.start;
            
            // Els≈ë vide√≥ kiemel√©se
            const firstVideo = document.getElementById(`videoPlayer${manualStartIndex}`);
            if (firstVideo) {
                firstVideo.style.border = '2px solid #FF9800';
                firstVideo.style.boxShadow = '0 0 10px rgba(255, 152, 0, 0.5)';
                
                // L√°ncreakci√≥ indik√°tor hozz√°ad√°sa
                const chainIndicator = document.createElement('div');
                chainIndicator.className = 'chain-indicator';
                chainIndicator.id = `chainIndicator${manualStartIndex}`;
                chainIndicator.textContent = 'üî• KEZD≈ê';
                firstVideo.appendChild(chainIndicator);
            }
            
            // Kattint√°s esem√©ny hozz√°ad√°sa az els≈ë vide√≥hoz
            const firstVideoContainer = document.getElementById(`playerContainer${manualStartIndex}`);
            if (firstVideoContainer) {
                firstVideoContainer.addEventListener('click', handleManualStart);
            }
            
            document.getElementById('statusMessage').innerHTML = 
                'üî• <strong>L√ÅNCREAKCI√ì K√âSZ!</strong><br>Kattints az els≈ë vide√≥ra (NARANCS SZEG√âLY≈∞) a l√°ncreakci√≥ ind√≠t√°s√°hoz!';
        }

        // Manu√°lis ind√≠t√°s kezel√©se - √öJ FUNKCI√ì
        function handleManualStart() {
            if (chainReactionStarted) return;
            
            chainAttempts++;
            chainReactionStarted = true;
            chainReactionActive = true;
            
            document.getElementById('statusMessage').innerHTML = 
                'üî• <strong>L√ÅNCREAKCI√ì ELIND√çTVA!</strong><br>Manu√°lis ind√≠t√°s siker√ºlt, automatikus folytat√°s...';
            
            // Friss√≠tj√ºk a l√°nc statisztik√°kat
            document.getElementById('chainAttempts').textContent = chainAttempts;
            
            // Els≈ë vide√≥ kattint√°s√°nak jelz√©se
            const clickStatus = document.getElementById(`clickStatus${manualStartIndex}`);
            if (clickStatus) {
                clickStatus.textContent = 'üî• MANU√ÅLIS';
                clickStatus.style.background = 'rgba(255, 152, 0, 0.9)';
            }
            
            // L√°ncreakci√≥ ind√≠t√°sa a t√∂bbi vide√≥n
            startChainReaction();
        }

        // L√°ncreakci√≥ ind√≠t√°sa - √öJ FUNKCI√ì
        function startChainReaction() {
            if (currentBatchIndex < 0 || !chainReactionActive) return;
            
            const batch = batches[currentBatchIndex];
            let currentIndex = manualStartIndex + 1;
            let processedCount = 1;
            
            document.getElementById('statusMessage').innerHTML += 
                `<br>‚ö° L√°ncreakci√≥ akt√≠v: ${processedCount}/${batch.size} vide√≥`;
            
            function processNextVideo() {
                if (currentIndex > batch.end || !chainReactionActive) {
                    // L√°ncreakci√≥ befejezve
                    successfulChains++;
                    document.getElementById('successfulChains').textContent = successfulChains;
                    document.getElementById('statusMessage').innerHTML += 
                        '<br>‚úÖ <strong>L√°ncreakci√≥ sikeresen befejezve!</strong>';
                    chainReactionActive = false;
                    return;
                }
                
                // V√©letlenszer≈± k√©sleltet√©s 1-4 m√°sodperc k√∂z√∂tt
                const delay = Math.random() * 3000 + 1000;
                
                setTimeout(() => {
                    if (chainReactionActive) {
                        simulateClickOnVideo(currentIndex);
                        processedCount++;
                        
                        // Friss√≠tj√ºk a st√°tuszt
                        if (processedCount % 10 === 0) {
                            document.getElementById('statusMessage').innerHTML = 
                                `üî• <strong>L√ÅNCREAKCI√ì FOLYTAT√ìDIK:</strong> ${processedCount}/${batch.size} vide√≥`;
                        }
                        
                        currentIndex++;
                        processNextVideo();
                    }
                }, delay);
            }
            
            processNextVideo();
        }

        // L√°ncreakci√≥ manu√°lis ind√≠t√°sa gombbal - √öJ FUNKCI√ì
        function startChainReactionManually() {
            if (currentBatchIndex < 0) {
                document.getElementById('statusMessage').innerHTML = 
                    '‚ö†Ô∏è El≈ësz√∂r t√∂lts be egy batch-et a "Batch Bet√∂lt√©s" gombbal!';
                return;
            }
            
            if (chainReactionStarted) {
                document.getElementById('statusMessage').innerHTML = 
                    '‚ö†Ô∏è L√°ncreakci√≥ m√°r akt√≠v! V√°rakoz√°s a befejez√©sre...';
                return;
            }
            
            chainAttempts++;
            chainReactionStarted = true;
            chainReactionActive = true;
            
            document.getElementById('statusMessage').innerHTML = 
                'üî• <strong>L√ÅNCREAKCI√ì GOMBBAL ELIND√çTVA!</strong><br>Automatikus kattint√°s minden vide√≥n...';
            
            document.getElementById('chainAttempts').textContent = chainAttempts;
            
            // Azonnali l√°ncreakci√≥ ind√≠t√°sa
            startChainReaction();
        }

        // ========== AUTOMATIKUS KATTINT√ÅS FUNKCI√ìK ==========

        // Programozott kattint√°s egy vide√≥n
        function simulateClickOnVideo(index) {
            const playerContainer = document.getElementById(`playerContainer${index}`);
            const clickStatus = document.getElementById(`clickStatus${index}`);
            
            if (playerContainer && clickStatus) {
                console.log(`üñ±Ô∏è Programozott kattint√°s a vide√≥n: ${index + 1}`);
                clickStatus.textContent = '‚ö° AUTOMATA';
                clickStatus.style.background = 'rgba(76, 175, 80, 0.9)';
                
                // Kattint√°s szimul√°l√°sa
                const clickEvent = new MouseEvent('click', {
                    view: window,
                    bubbles: true,
                    cancelable: true
                });
                
                playerContainer.dispatchEvent(clickEvent);
                
                // Dupla kattint√°s biztons√°g kedv√©√©rt
                setTimeout(() => {
                    playerContainer.dispatchEvent(clickEvent);
                }, 500);
                
                return true;
            }
            return false;
        }

        // ========== VIDE√ìS PLAYER FUNKCI√ìK ==========

        // Vide√≥ player l√©trehoz√°sa
        function createVideoPlayer(videoId, index) {
            const videoGrid = document.getElementById('videoGrid');
            
            const videoPlayer = document.createElement('div');
            videoPlayer.className = 'video-player';
            videoPlayer.id = `videoPlayer${index}`;
            
            const playerContainer = document.createElement('div');
            playerContainer.className = 'player-container';
            playerContainer.id = `playerContainer${index}`;
            
            const adIndicator = document.createElement('div');
            adIndicator.className = 'ad-indicator';
            adIndicator.id = `adIndicator${index}`;
            adIndicator.textContent = '‚è≥ Rekl√°m';
            adIndicator.style.display = 'none';
            
            const clickStatus = document.createElement('div');
            clickStatus.className = 'click-status';
            clickStatus.id = `clickStatus${index}`;
            clickStatus.textContent = '‚è≥ Kattint√°sra v√°r';
            clickStatus.style.background = 'rgba(255, 152, 0, 0.9)';
            
            const videoInfo = document.createElement('div');
            videoInfo.className = 'video-info';
            videoInfo.textContent = `Vide√≥ ${index + 1}`;
            
            videoPlayer.appendChild(playerContainer);
            videoPlayer.appendChild(adIndicator);
            videoPlayer.appendChild(clickStatus);
            videoPlayer.appendChild(videoInfo);
            videoGrid.appendChild(videoPlayer);
            
            return new Promise((resolve) => {
                new YT.Player(`playerContainer${index}`, {
                    height: '120',
                    width: '100%',
                    videoId: videoId,
                    playerVars: {
                        'playsinline': 1,
                        'enablejsapi': 1,
                        'origin': window.location.origin,
                        'rel': 0,
                        'modestbranding': 1,
                        'controls': 1,  // Vez√©rl≈ëk l√°that√≥ak
                        'showinfo': 0,
                        'iv_load_policy': 3,
                        'autoplay': 0,   // Rekl√°mok miatt ne autoplay
                        'fs': 0          // Teljes k√©perny≈ë letiltva
                    },
                    events: {
                        'onReady': function(event) {
                            youtubePlayers[index] = event.target;
                            playersReady++;
                            updateStats();
                            
                            // Ellen≈ërizz√ºk, hogy minden player bet√∂lt≈ëd√∂tt-e
                            if (playersReady === allYouTubeLinks.length) {
                                document.getElementById('statusMessage').innerHTML += 
                                    '<br>‚úÖ Player-ek bet√∂lt√©se k√©sz!';
                            }
                            
                            resolve(event.target);
                        },
                        'onStateChange': function(event) {
                            if (event.data === YT.PlayerState.PLAYING) {
                                activePlayers++;
                                updateStats();
                            } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                                activePlayers = Math.max(0, activePlayers - 1);
                                updateStats();
                            }
                            
                            // Rekl√°m √°llapot k√∂vet√©se
                            trackAdState(event, index);
                        },
                        'onError': function(event) {
                            console.error(`Hiba a player ${index + 1}-n√©l:`, event.data);
                            resolve(null);
                        }
                    }
                });
            });
        }

        // Rekl√°m √°llapot k√∂vet√©se
        function trackAdState(event, index) {
            const adIndicator = document.getElementById(`adIndicator${index}`);
            
            switch (event.data) {
                case YT.PlayerState.AD_PLAYING:
                    adIndicator.style.display = 'block';
                    adIndicator.textContent = 'üì∫ Rekl√°m';
                    adIndicator.style.background = 'rgba(255, 193, 7, 0.9)';
                    adStats.totalAds++;
                    updateAdStats();
                    break;
                    
                case YT.PlayerState.PLAYING:
                    // Ha a rekl√°m ut√°n j√∂n a vide√≥, akkor sikeres rekl√°m
                    if (adIndicator.style.display === 'block') {
                        adStats.successfulAds++;
                        adStats.estimatedRevenue += 0.01; // Becs√ºlt bev√©tel ($0.01 per rekl√°m)
                        updateAdStats();
                    }
                    adIndicator.style.display = 'none';
                    break;
                    
                case YT.PlayerState.BUFFERING:
                    adIndicator.style.display = 'block';
                    adIndicator.textContent = '‚è≥ Bet√∂lt√©s';
                    adIndicator.style.background = 'rgba(33, 150, 243, 0.9)';
                    break;
            }
        }

        // Rekl√°m statisztik√°k friss√≠t√©se
        function updateAdStats() {
            document.getElementById('totalAds').textContent = adStats.totalAds;
            document.getElementById('successfulAds').textContent = adStats.successfulAds;
            document.getElementById('adRevenue').textContent = adStats.estimatedRevenue.toFixed(2);
        }

        // ========== FEJLETT ELREJT≈êZ√âSI FUNKCI√ìK ==========

        // User Agent rot√°ci√≥
        function rotateUserAgent() {
            if (ADVANCED_STEALTH_CONFIG.NETWORK.RANDOM_USER_AGENTS) {
                const randomAgent = userAgents[Math.floor(Math.random() * userAgents.length)];
                try {
                    Object.defineProperty(navigator, 'userAgent', {
                        get: () => randomAgent,
                        configurable: true
                    });
                } catch (e) {
                    console.log('User Agent rot√°ci√≥ nem siker√ºlt:', e);
                }
            }
        }

        // B√∂ng√©sz≈ë ujjlenyont m√≥dos√≠t√°s
        function modifyBrowserFingerprint() {
            if (ADVANCED_STEALTH_CONFIG.BROWSER_FINGERPRINT.CANVAS_NOISE) {
                try {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    ctx.textBaseline = 'top';
                    ctx.font = '14px Arial';
                    ctx.textBaseline = 'alphabetic';
                    ctx.fillStyle = '#f60';
                    ctx.fillRect(125, 1, 62, 20);
                    ctx.fillStyle = '#069';
                    ctx.fillText('Fingerprint protection active', 2, 15);
                    ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
                    ctx.fillText('Fingerprint protection active', 4, 17);
                    
                    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    for (let i = 0; i < imageData.data.length; i += 4) {
                        if (Math.random() > 0.99) {
                            imageData.data[i] = Math.floor(Math.random() * 255);
                            imageData.data[i + 1] = Math.floor(Math.random() * 255);
                            imageData.data[i + 2] = Math.floor(Math.random() * 255);
                        }
                    }
                    ctx.putImageData(imageData, 0, 0);
                } catch (e) {
                    console.log('Canvas zaj hozz√°ad√°sa nem siker√ºlt:', e);
                }
            }
        }

        // Emberi interakci√≥k szimul√°ci√≥ja
        function simulateHumanInteractions() {
            if (ADVANCED_STEALTH_CONFIG.BEHAVIORAL_PATTERNS.MOUSE_MOVEMENTS) {
                document.addEventListener('mousemove', (e) => {
                    if (Math.random() > 0.98) {
                        const randomX = e.clientX + (Math.random() * 100 - 50);
                        const randomY = e.clientY + (Math.random() * 100 - 50);
                        setTimeout(() => {
                            document.dispatchEvent(new MouseEvent('mousemove', {
                                clientX: randomX,
                                clientY: randomY,
                                bubbles: true
                            }));
                        }, Math.random() * 1000);
                    }
                });

                setInterval(() => {
                    if (Math.random() > 0.995 && document.hasFocus()) {
                        const x = Math.random() * window.innerWidth;
                        const y = Math.random() * window.innerHeight;
                        document.elementFromPoint(x, y)?.click();
                    }
                }, 30000);
            }

            // G√∂rget√©si viselked√©s
            if (ADVANCED_STEALTH_CONFIG.BEHAVIORAL_PATTERNS.SCROLL_BEHAVIOR) {
                setInterval(() => {
                    if (Math.random() > 0.95) {
                        const scrollAmount = Math.random() * 200 - 100;
                        window.scrollBy(0, scrollAmount);
                    }
                }, 10000);
            }

            // Lapv√°lt√°s szimul√°ci√≥
            if (ADVANCED_STEALTH_CONFIG.BEHAVIORAL_PATTERNS.TAB_SWITCHING) {
                setInterval(() => {
                    if (Math.random() > 0.98) {
                        document.dispatchEvent(new Event('visibilitychange'));
                        setTimeout(() => {
                            document.dispatchEvent(new Event('visibilitychange'));
                        }, Math.random() * 5000 + 1000);
                    }
                }, 60000);
            }
        }

        // Okos id≈ëz√≠t√©si algoritmus
        function getIntelligentTiming() {
            const now = new Date();
            const hour = now.getHours();
            const day = now.getDay();

            let baseMultiplier = 1.0;

            // H√©tv√©g√©n hosszabb sz√ºnetek
            if (day === 0 || day === 6) {
                baseMultiplier *= 1.5;
            }

            // √âjszakai √≥r√°kban ritk√°bb aktivit√°s
            if (hour >= 22 || hour <= 6) {
                baseMultiplier *= 2.0;
            }

            // Nem-line√°ris id≈ëz√≠t√©s
            if (ADVANCED_STEALTH_CONFIG.TIMING_DEFENSES.NON_LINEAR_PATTERNS) {
                baseMultiplier *= (0.8 + Math.random() * 0.4);
            }

            return baseMultiplier;
        }

        // V√°ltoz√≥ lej√°tsz√°si profilok
        function applyVariablePlaybackProfiles() {
            const profiles = [
                { speed: 1.0, volume: 80, name: "Norm√°l" },
                { speed: 1.25, volume: 60, name: "Gyors√≠tott" },
                { speed: 0.9, volume: 70, name: "Lass√≠tott" },
                { speed: 1.1, volume: 50, name: "K√∂zepes" }
            ];

            const currentProfile = profiles[Math.floor(Math.random() * profiles.length)];
            
            if (currentBatchIndex >= 0) {
                const batch = batches[currentBatchIndex];
                const batchPlayers = youtubePlayers.slice(batch.start, batch.end + 1)
                    .filter(player => player !== undefined && player !== null);

                batchPlayers.forEach(player => {
                    try {
                        player.setPlaybackRate(currentProfile.speed);
                        player.setVolume(currentProfile.volume);
                    } catch (e) {
                        // Csendes hiba kezel√©s
                    }
                });
            }

            document.getElementById('currentProfile').textContent = currentProfile.name;
            return currentProfile;
        }

        // H√°l√≥zati k√©r√©skezel√©s
        function implementNetworkThrottling() {
            if (ADVANCED_STEALTH_CONFIG.NETWORK.REQUEST_THROTTLING) {
                const originalFetch = window.fetch;
                window.fetch = function(...args) {
                    const delay = Math.random() * 1900 + 100;
                    return new Promise(resolve => {
                        setTimeout(() => {
                            resolve(originalFetch.apply(this, args));
                        }, delay);
                    });
                };
            }
        }

        // V√©letlenszer≈± munkamenet kezel√©s
        function implementRandomSessionManagement() {
            const sessionLength = ADVANCED_STEALTH_CONFIG.RANDOMIZATION.SESSION_LENGTHS[
                Math.floor(Math.random() * ADVANCED_STEALTH_CONFIG.RANDOMIZATION.SESSION_LENGTHS.length)
            ];

            setTimeout(() => {
                if (isAutoRepeatActive && Math.random() > 0.3) {
                    document.getElementById('statusMessage').innerHTML = 
                        'üîÑ V√©letlenszer≈± munkamenet v√°lt√°s...';
                    stopAll();
                    setTimeout(() => {
                        startAutoRepeat();
                    }, Math.random() * 300000 + 60000);
                }
            }, sessionLength * 3600000);
        }

        // Dinamikus strat√©gia v√°lt√°s
        function adaptStealthStrategy() {
            const riskLevel = riskAssessment.totalScore;
            
            if (riskLevel > 0.7) {
                currentStealthStrategy = 'conservative';
            } else if (riskLevel < 0.3) {
                currentStealthStrategy = 'aggressive';
            } else {
                currentStealthStrategy = 'lancreakcios';
            }

            const strategy = stealthStrategies[currentStealthStrategy];
            
            SECURITY_CONFIG.BATCH.MIN_SIZE = strategy.batchSize.min;
            SECURITY_CONFIG.BATCH.MAX_SIZE = strategy.batchSize.max;
            SECURITY_CONFIG.TIMING.MIN_DURATION = strategy.timing.min;
            SECURITY_CONFIG.TIMING.MAX_DURATION = strategy.timing.max;

            document.getElementById('currentStrategy').textContent = currentStealthStrategy;
            
            if (currentStealthStrategy === 'lancreakcios') {
                document.getElementById('statusMessage').innerHTML += 
                    `<br>üé≠ Akt√≠v strat√©gia: L√ÅNCREAKCI√ìS`;
            } else {
                document.getElementById('statusMessage').innerHTML += 
                    `<br>üé≠ Akt√≠v strat√©gia: ${currentStealthStrategy.toUpperCase()}`;
            }
        }

        // Hangkezel√©si v√©delem
        function implementAudioStealth() {
            setInterval(() => {
                if (currentBatchIndex >= 0 && Math.random() > 0.7) {
                    const batch = batches[currentBatchIndex];
                    const batchPlayers = youtubePlayers.slice(batch.start, batch.end + 1)
                        .filter(player => player !== undefined && player !== null);

                    batchPlayers.forEach(player => {
                        try {
                            const newVolume = ADVANCED_STEALTH_CONFIG.RANDOMIZATION.VOLUME_LEVELS[
                                Math.floor(Math.random() * ADVANCED_STEALTH_CONFIG.RANDOMIZATION.VOLUME_LEVELS.length)
                            ];
                            player.setVolume(newVolume);
                        } catch (e) {
                            // Csendes hiba kezel√©s
                        }
                    });
                }
            }, 30000);

            setInterval(() => {
                if (currentBatchIndex >= 0 && Math.random() > 0.9) {
                    const batch = batches[currentBatchIndex];
                    const batchPlayers = youtubePlayers.slice(batch.start, batch.end + 1)
                        .filter(player => player !== undefined && player !== null);

                    batchPlayers.forEach(player => {
                        try {
                            if (Math.random() > 0.5) {
                                player.mute();
                                setTimeout(() => player.unMute(), Math.random() * 10000 + 5000);
                            }
                        } catch (e) {
                            // Csendes hiba kezel√©s
                        }
                    });
                }
            }, 120000);
        }

        // Fejlett rejt≈ëz√©si rendszer inicializ√°l√°sa
        function initializeAdvancedStealthSystem() {
            console.log('üïµÔ∏è‚Äç‚ôÇÔ∏è Fejlett rejt≈ëz√©si rendszer ind√≠t√°sa...');
            
            rotateUserAgent();
            modifyBrowserFingerprint();
            simulateHumanInteractions();
            implementNetworkThrottling();
            implementAudioStealth();
            implementRandomSessionManagement();
            
            setInterval(adaptStealthStrategy, 60000);
            setInterval(() => applyVariablePlaybackProfiles(), 180000);
            
            console.log('‚úÖ Fejlett rejt≈ëz√©si rendszer akt√≠v');
            document.getElementById('stealthStatus').textContent = '‚úÖ L√°ncreakci√≥s m√≥d akt√≠v - Emberi kezd√©s';
        }

        // ========== MEM√ìRIA MONITOR FUNKCI√ìK ==========

        // Mem√≥ria monitoroz√°s
        function monitorMemory() {
            if (!memoryStats.monitoringActive) return;

            try {
                const memoryInfo = getMemoryInfo();
                updateMemoryDisplay(memoryInfo);
                
                if (memoryInfo.percent > SECURITY_CONFIG.MEMORY.CLEANUP_THRESHOLD * 100) {
                    performAggressiveCleanup();
                }
            } catch (error) {
                console.warn('Mem√≥ria monitoroz√°s hiba:', error);
            }
        }

        // Mem√≥ria inform√°ci√≥k gy≈±jt√©se
        function getMemoryInfo() {
            if (performance.memory) {
                const memory = performance.memory;
                return {
                    used: Math.round(memory.usedJSHeapSize / (1024 * 1024)),
                    total: Math.round(memory.totalJSHeapSize / (1024 * 1024)),
                    limit: Math.round(memory.jsHeapSizeLimit / (1024 * 1024)),
                    percent: Math.round((memory.usedJSHeapSize / memory.jsHeapSizeLimit) * 100)
                };
            }
            
            const estimatedUsed = Math.round((playersReady * 2) + (activePlayers * 5));
            const estimatedTotal = Math.max(estimatedUsed * 2, 100);
            
            return {
                used: estimatedUsed,
                total: estimatedTotal,
                limit: 512,
                percent: Math.min(100, Math.round((estimatedUsed / 512) * 100))
            };
        }

        // Mem√≥ria inform√°ci√≥k megjelen√≠t√©se
        function updateMemoryDisplay(memoryInfo) {
            document.getElementById('memoryUsage').textContent = `${memoryInfo.used} MB`;
            document.getElementById('memoryLimit').textContent = `${memoryInfo.limit} MB`;
            document.getElementById('memoryPercent').textContent = `${memoryInfo.percent}%`;
            document.getElementById('cleanupCount').textContent = memoryStats.cleanupCount;
            
            const memoryBar = document.getElementById('memoryBar');
            memoryBar.style.width = `${memoryInfo.percent}%`;
            
            if (memoryInfo.percent > 80) {
                memoryBar.style.background = 'linear-gradient(90deg, #ff9800, #f44336)';
            } else if (memoryInfo.percent > 60) {
                memoryBar.style.background = 'linear-gradient(90deg, #ffd93d, #ff9800)';
            } else {
                memoryBar.style.background = 'linear-gradient(90deg, #4CAF50, #ffd93d)';
            }
        }

        // Agressz√≠v mem√≥riatiszt√≠t√°s
        function performAggressiveCleanup() {
            if (!SECURITY_CONFIG.MEMORY.AGGRESSIVE_CLEANUP) return;
            
            const memoryInfo = getMemoryInfo();
            if (memoryInfo.percent <= SECURITY_CONFIG.MEMORY.CLEANUP_THRESHOLD * 100) return;
            
            const cleanupAlert = document.getElementById('cleanupAlert');
            cleanupAlert.style.display = 'block';
            
            console.log(`üßπ Mem√≥riatiszt√≠t√°s ind√≠t√°sa: ${memoryInfo.percent}% haszn√°lat`);
            
            if (currentBatchIndex >= 0) {
                const batch = batches[currentBatchIndex];
                const batchPlayers = youtubePlayers.slice(batch.start, batch.end + 1)
                    .filter(player => player !== undefined && player !== null);
                
                batchPlayers.forEach((player) => {
                    if (player && typeof player.stopVideo === 'function') {
                        try {
                            player.stopVideo();
                        } catch (e) {
                            console.log('Hiba a player le√°ll√≠t√°s√°n√°l:', e);
                        }
                    }
                });
            }
            
            const videoGrid = document.getElementById('videoGrid');
            videoGrid.innerHTML = '';
            
            if (currentBatchIndex >= 0) {
                const currentBatch = batches[currentBatchIndex];
                for (let i = 0; i < youtubePlayers.length; i++) {
                    if (i < currentBatch.start || i > currentBatch.end) {
                        youtubePlayers[i] = null;
                    }
                }
            } else {
                youtubePlayers = new Array(allYouTubeLinks.length);
            }
            
            forceGarbageCollection();
            
            const beforeMemory = memoryInfo.used;
            const afterMemory = getMemoryInfo().used;
            const memoryFreed = beforeMemory - afterMemory;
            
            memoryStats.cleanupCount++;
            memoryStats.lastCleanup = new Date();
            memoryStats.totalMemoryFreed += memoryFreed;
            
            setTimeout(() => {
                cleanupAlert.style.display = 'none';
            }, 5000);
            
            console.log(`‚úÖ Tiszt√≠t√°s befejezve: ${memoryFreed} MB mem√≥ria felszabad√≠tva`);
            document.getElementById('statusMessage').innerHTML = 
                `üßπ Mem√≥riatiszt√≠t√°s: ${memoryFreed} MB felszabad√≠tva (${memoryStats.cleanupCount}. alkalommal)`;
            
            if (isAutoRepeatActive && currentBatchIndex >= 0) {
                setTimeout(() => {
                    document.getElementById('statusMessage').innerHTML = 
                        'üîÑ Automatikus ism√©tl√©s folytat√°sa mem√≥riatiszt√≠t√°s ut√°n...';
                    playCurrentBatch();
                }, 2000);
            }
        }

        // Szem√©tgy≈±jt√©s k√©nyszer√≠t√©se
        function forceGarbageCollection() {
            if (window.gc) {
                window.gc();
            }
            
            try {
                const tempArray = new Array(100000).fill(0);
                setTimeout(() => {
                    tempArray.length = 0;
                }, 100);
                
                return new Promise(resolve => {
                    setTimeout(resolve, 100);
                });
            } catch (error) {
                console.log('GC k√©nyszer√≠t√©s nem siker√ºlt:', error);
            }
        }

        // K√©nyszer√≠tett manu√°lis tiszt√≠t√°s
        function forceManualCleanup() {
            document.getElementById('statusMessage').innerHTML = 'üßπ K√©nyszer√≠tett mem√≥riatiszt√≠t√°s...';
            performAggressiveCleanup();
        }

        // ========== ALAP FUNKCI√ìK ==========

        // Update stats
        function updateStats() {
            document.getElementById('readyCount').textContent = playersReady;
            document.getElementById('activeCount').textContent = activePlayers;
            
            const progress = (playersReady / allYouTubeLinks.length) * 100;
            document.getElementById('loadProgress').style.width = progress + '%';
            
            document.getElementById('currentBatch').textContent = currentBatchIndex >= 0 ? batches[currentBatchIndex].name : '-';
        }

        // Timer friss√≠t√©se
        function updateTimer() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Automatikus ism√©tl√©s inform√°ci√≥k friss√≠t√©se
        function updateAutoRepeatInfo() {
            document.getElementById('autoStatus').textContent = isAutoRepeatActive ? 'Akt√≠v' : 'Inakt√≠v';
            
            if (nextRepeatTime) {
                const now = new Date();
                const timeDiff = nextRepeatTime - now;
                
                if (timeDiff > 0) {
                    const hours = Math.floor(timeDiff / (1000 * 60 * 60));
                    const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                    document.getElementById('nextStartTime').textContent = 
                        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;
                } else {
                    document.getElementById('nextStartTime').textContent = 'Hamarosan';
                }
            } else {
                document.getElementById('nextStartTime').textContent = '-';
            }
            
            document.getElementById('repeatDuration').textContent = repeatDuration;
        }

        // Lej√°tsz√°si statisztik√°k friss√≠t√©se
        function updatePlaybackStats() {
            document.getElementById('playbackCount').textContent = `√ñsszes lej√°tsz√°s: ${playbackStats.totalPlaybacks}`;
            
            let monthlyHTML = 'Havi bont√°s:<br>';
            const months = Object.keys(playbackStats.monthlyStats).sort().reverse();
            
            months.forEach(month => {
                monthlyHTML += `${month}: ${playbackStats.monthlyStats[month]} db lej√°tsz√°s<br>`;
            });
            
            document.getElementById('monthlyStats').innerHTML = monthlyHTML;
        }

        // Statisztik√°k bet√∂lt√©se localStorage-b√≥l
        function loadPlaybackStats() {
            const savedStats = localStorage.getItem('playbackStats');
            if (savedStats) {
                playbackStats = JSON.parse(savedStats);
            }
            updatePlaybackStats();
        }

        // Statisztik√°k ment√©se localStorage-ba
        function savePlaybackStats() {
            localStorage.setItem('playbackStats', JSON.stringify(playbackStats));
        }

        // Lej√°tsz√°s hozz√°ad√°sa a statisztik√°khoz
        function addPlayback(count) {
            playbackStats.totalPlaybacks += count;
            
            const now = new Date();
            const monthKey = `${now.getFullYear()} ${getMonthName(now.getMonth())}`;
            
            if (!playbackStats.monthlyStats[monthKey]) {
                playbackStats.monthlyStats[monthKey] = 0;
            }
            playbackStats.monthlyStats[monthKey] += count;
            
            updatePlaybackStats();
            savePlaybackStats();
        }

        // H√≥nap neve magyarul
        function getMonthName(monthIndex) {
            const months = [
                'janu√°r', 'febru√°r', 'm√°rcius', '√°prilis', 'm√°jus', 'j√∫nius',
                'j√∫lius', 'augusztus', 'szeptember', 'okt√≥ber', 'november', 'december'
            ];
            return months[monthIndex];
        }

        // K√∂vetkez≈ë ism√©tl√©s id≈ëpontj√°nak be√°ll√≠t√°sa
        function scheduleNextRepeat() {
            if (!isAutoRepeatActive) return;
            
            repeatDuration = getRandomRepeatDuration();
            const repeatMs = repeatDuration * 60 * 1000;
            
            nextRepeatTime = new Date(Date.now() + repeatMs);
            updateAutoRepeatInfo();
            
            if (autoRepeatInterval) clearTimeout(autoRepeatInterval);
            autoRepeatInterval = setTimeout(() => {
                if (isAutoRepeatActive) {
                    document.getElementById('statusMessage').innerHTML = 'üîÑ Automatikus ism√©tl√©s ind√≠t√°sa...';
                    
                    const randomDelay = Math.random() * 30000;
                    setTimeout(nextBatch, randomDelay);
                }
            }, repeatMs);
        }

        // Timer ind√≠t√°sa dinamikus id≈ëtartammal
        function startTimer(duration = null) {
            timeLeft = duration || getRandomDuration();
            updateTimer();
            
            if (timerInterval) clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    startGracefulStop();
                }
                
                if (timeLeft % 60 === 0) {
                    riskAssessment.timingScore = Math.min(1, riskAssessment.timingScore + 0.02);
                    updateRiskAssessment();
                }
            }, 1000);
        }

        // Tov√°bbfejlesztett graci√°lis le√°ll√°s
        function startGracefulStop() {
            const gracefulDuration = SECURITY_CONFIG.SHUTDOWN.GRACEFUL_DURATION;
            document.getElementById('statusMessage').innerHTML = 
                `üé¨ Vide√≥k fokozatos le√°ll√≠t√°sa (${gracefulDuration/60} perc)...`;
            document.getElementById('timerLabel').textContent = 'Graci√°lis le√°ll√°s - h√°tral√©v≈ë id≈ë';
            
            timeLeft = gracefulDuration;
            updateTimer();
            
            if (timerInterval) clearInterval(timerInterval);
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimer();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishBatch();
                }
            }, 1000);
            
            const batch = batches[currentBatchIndex];
            let batchPlayers = youtubePlayers.slice(batch.start, batch.end + 1)
                .filter(player => player !== undefined && player !== null);
            
            gracefulStopTimeouts.forEach(timeout => clearTimeout(timeout));
            gracefulStopTimeouts = [];
            
            const shuffledPlayers = [...batchPlayers].sort(() => Math.random() - 0.5);
            
            shuffledPlayers.forEach((player, index) => {
                const stopTime = Math.random() * SECURITY_CONFIG.SHUTDOWN.MAX_DELAY;
                
                const timeout = setTimeout(() => {
                    if (player && typeof player.stopVideo === 'function') {
                        try {
                            player.stopVideo();
                            activePlayers = Math.max(0, activePlayers - 1);
                            updateStats();
                            
                            riskAssessment.behaviorScore = Math.max(0, riskAssessment.behaviorScore - 0.02);
                            updateRiskAssessment();
                            
                        } catch (e) {
                            console.log('Hiba a player le√°ll√≠t√°s√°n√°l:', e);
                        }
                    }
                }, stopTime);
                
                gracefulStopTimeouts.push(timeout);
            });
        }

        // Batch befejez√©se - M√ìDOS√çTVA: ciklus sz√°mol√°s √©s link kever√©s
        function finishBatch() {
            // L√°ncreakci√≥ reset
            chainReactionActive = false;
            chainReactionStarted = false;
            manualStartIndex = -1;
            
            if (currentBatchIndex >= 0) {
                const batchSize = batches[currentBatchIndex].size;
                addPlayback(batchSize);
            }
            
            if (currentBatchIndex >= 0) {
                clearBatch(currentBatchIndex);
            }
            
            currentBatchIndex++;
            
            if (currentBatchIndex >= batches.length) {
                // Ciklus befejez√©se
                cycleCount++;
                document.getElementById('statusMessage').innerHTML = 
                    `‚úÖ ${cycleCount}. ciklus befejezve! √ñsszes lej√°tsz√°s: ${playbackStats.totalPlaybacks}`;
                
                if (isAutoRepeatActive) {
                    document.getElementById('statusMessage').innerHTML += '<br>üîÑ K√∂vetkez≈ë ciklus el≈ëk√©sz√≠t√©se...';
                    
                    // Linkek kever√©se minden ciklus ut√°n
                    shuffleYouTubeLinks();
                    
                    currentBatchIndex = -1;
                    batches = generateDynamicBatches();
                    updateBatchProgress();
                    scheduleNextRepeat();
                } else {
                    document.getElementById('startButton').disabled = false;
                }
                return;
            }
            
            const batch = batches[currentBatchIndex];
            document.getElementById('statusMessage').innerHTML = `${batch.name} bet√∂lt√©se...`;
            
            updateBatchProgress();
            loadPlayersFromBatch(batch);
        }

        // Batch bet√∂lt√©se
        function loadPlayersFromBatch(batch) {
            const videoGrid = document.getElementById('videoGrid');
            videoGrid.innerHTML = ''; // T√∂r√∂lj√ºk az el≈ëz≈ë batch vide√≥it
            
            let currentIndex = batch.start;
            let errorCount = 0;
            const maxErrors = 20;
            const promises = [];

            function loadNextPlayer() {
                if (currentIndex > batch.end) {
                    // Minden player bet√∂ltve
                    Promise.all(promises).then(() => {
                        isLoading = false;
                        document.getElementById('loadingMessage').style.display = 'none';
                        document.getElementById('statusMessage').innerHTML = `‚úÖ ${batch.name} bet√∂ltve!<br>üî• Kattints az els≈ë vide√≥ra a l√°ncreakci√≥ ind√≠t√°s√°hoz!`;
                        
                        // L√°ncreakci√≥ be√°ll√≠t√°sa
                        setupManualStart();
                        
                        updateStats();
                    });
                    return;
                }

                if (errorCount >= maxErrors) {
                    // T√∫l sok hiba
                    isLoading = false;
                    document.getElementById('loadingMessage').style.display = 'none';
                    document.getElementById('statusMessage').innerHTML = 
                        `‚ö†Ô∏è Bet√∂lt√©s le√°llt. ${playersReady}/${allYouTubeLinks.length} player bet√∂ltve.<br>Pr√≥b√°ld √∫jra!`;
                    updateStats();
                    return;
                }

                const videoId = allYouTubeLinks[currentIndex];
                const promise = createVideoPlayer(videoId, currentIndex);
                promises.push(promise);
                
                currentIndex++;
                setTimeout(loadNextPlayer, 100); // Kis k√©sleltet√©s a k√∂vetkez≈ë player bet√∂lt√©s√©hez
            }

            isLoading = true;
            document.getElementById('loadingMessage').style.display = 'block';
            loadNextPlayer();
        }

        // M√≥dos√≠tott batch lej√°tsz√°s - L√ÅNCREAKCI√ìS
        function playCurrentBatch() {
            if (currentBatchIndex < 0) return;

            const batch = batches[currentBatchIndex];
            let batchPlayers = youtubePlayers.slice(batch.start, batch.end + 1)
                .filter(player => player !== undefined && player !== null);
            
            if (batchPlayers.length === 0) {
                document.getElementById('statusMessage').innerHTML = `‚è≥ ${batch.name} bet√∂lt√©se nem siker√ºlt!`;
                return;
            }

            document.getElementById('statusMessage').innerHTML = 
                `üé¨ ${batch.name} k√©sz l√°ncreakci√≥ra!<br>üî• Kattints az els≈ë vide√≥ra vagy a "L√°ncreakci√≥ Ind√≠t√°sa" gombra!`;
            activePlayers = 0;

            // Timer ind√≠t√°sa
            startTimer(batches[currentBatchIndex].duration);
            
            // L√°ncreakci√≥ be√°ll√≠t√°sa
            setupManualStart();
        }

        // Batch t√∂rl√©se a mem√≥ri√°b√≥l
        function clearBatch(batchIndex) {
            const batch = batches[batchIndex];
            
            // L√°ncreakci√≥ esem√©nykezel≈ëk elt√°vol√≠t√°sa
            if (manualStartIndex >= 0) {
                const firstVideoContainer = document.getElementById(`playerContainer${manualStartIndex}`);
                if (firstVideoContainer) {
                    firstVideoContainer.removeEventListener('click', handleManualStart);
                }
            }
            
            for (let i = batch.start; i <= batch.end; i++) {
                const videoPlayer = document.getElementById(`videoPlayer${i}`);
                if (videoPlayer) {
                    videoPlayer.remove();
                }
                youtubePlayers[i] = null;
            }
            
            playersReady -= batch.size;
            updateStats();
        }

        // Dinamikus batch progress friss√≠t√©s
        function updateBatchProgress() {
            const container = document.getElementById('batchProgressContainer');
            container.innerHTML = '';
            
            batches.forEach((batch, index) => {
                const step = document.createElement('div');
                step.className = `batch-step ${index === currentBatchIndex ? 'active' : ''} ${index < currentBatchIndex ? 'completed' : ''}`;
                step.id = `batch${index + 1}Step`;
                
                step.innerHTML = `
                    <div>${batch.name}</div>
                    <div>(${batch.start + 1}-${batch.end + 1})</div>
                    <div style="font-size: 12px; margin-top: 5px;">${Math.floor(batch.duration/60)}p</div>
                `;
                
                container.appendChild(step);
            });
        }

        // Kock√°zat√©rt√©kel√©s
        function updateRiskAssessment() {
            const now = Date.now();
            const timeSinceUpdate = now - riskAssessment.lastUpdate;
            
            riskAssessment.patternScore = Math.max(0, riskAssessment.patternScore - (timeSinceUpdate / 60000));
            riskAssessment.timingScore = Math.max(0, riskAssessment.timingScore - (timeSinceUpdate / 60000));
            riskAssessment.behaviorScore = Math.max(0, riskAssessment.behaviorScore - (timeSinceUpdate / 60000));
            
            riskAssessment.totalScore = (
                riskAssessment.patternScore + 
                riskAssessment.timingScore + 
                riskAssessment.behaviorScore
            ) / 3;
            
            riskAssessment.lastUpdate = now;
            updateRiskDisplay();
        }

        function updateRiskDisplay() {
            const riskPercent = riskAssessment.totalScore * 100;
            const riskIndicator = document.getElementById('riskIndicator');
            const riskStatus = document.getElementById('riskStatus');
            
            riskIndicator.style.left = `${riskPercent}%`;
            
            let riskLevel = 'low';
            let riskText = '‚úÖ V√°rakoz√°s manu√°lis ind√≠t√°sra';
            let cardColor = 'safe';
            
            if (riskAssessment.totalScore > SECURITY_CONFIG.RISK.HIGH) {
                riskLevel = 'high';
                riskText = 'üö® MAGAS KOCK√ÅZAT - V√©delmi strat√©gia aktiv√°lva!';
                cardColor = 'danger';
                activateDefenseStrategy();
            } else if (riskAssessment.totalScore > SECURITY_CONFIG.RISK.MEDIUM) {
                riskLevel = 'medium';
                riskText = '‚ö†Ô∏è K√∂zepes kock√°zat - Fokozott figyelem';
                cardColor = 'warning';
            }
            
            riskStatus.textContent = riskText;
            document.getElementById('riskCard').className = `security-card ${cardColor}`;
            document.getElementById('riskCard').querySelector('div:last-child').textContent = 
                riskLevel === 'high' ? 'Magas' : riskLevel === 'medium' ? 'K√∂zepes' : 'Alacsony';
        }

        function activateDefenseStrategy() {
            console.log('üõ°Ô∏è V√©delmi strat√©gia aktiv√°lva');
            
            const strategies = [
                'V√©letlenszer≈± sz√ºnet beiktat√°sa',
                'Batch m√©ret v√°ltoztat√°s',
                'Id≈ëtartam m√≥dos√≠t√°s',
                'Ind√≠t√°si minta v√°ltoztat√°s'
            ];
            
            const randomStrategy = strategies[Math.floor(Math.random() * strategies.length)];
            document.getElementById('statusMessage').innerHTML = 
                `üõ°Ô∏è <strong>V√âDELEM AKT√çV:</strong> ${randomStrategy}`;
            
            setTimeout(() => {
                riskAssessment.patternScore *= 0.5;
                riskAssessment.timingScore *= 0.5;
                riskAssessment.behaviorScore *= 0.5;
                updateRiskAssessment();
            }, 30000);
        }

        // Automatikus ism√©tl√©s ind√≠t√°sa - M√ìDOS√çTVA: ciklus sz√°mol√°s
        function startAutoRepeat() {
            isAutoRepeatActive = true;
            document.getElementById('autoButton').textContent = '‚è∏Ô∏è Automatikus Ism√©tl√©s Sz√ºneteltet√©se';
            document.getElementById('statusMessage').innerHTML = 
                `üîÑ Automatikus ism√©tl√©s aktiv√°lva!<br>üîÑ Ciklus: ${cycleCount + 1}`;
            
            if (currentBatchIndex < 0) {
                document.getElementById('startButton').disabled = true;
                nextBatch();
            } else {
                scheduleNextRepeat();
            }
            
            updateAutoRepeatInfo();
        }

        // Automatikus ism√©tl√©s le√°ll√≠t√°sa
        function stopAutoRepeat() {
            isAutoRepeatActive = false;
            document.getElementById('autoButton').textContent = 'üîÅ Automatikus Ism√©tl√©s';
            document.getElementById('statusMessage').innerHTML = '‚è∏Ô∏è Automatikus ism√©tl√©s sz√ºneteltetve';
            
            if (autoRepeatInterval) {
                clearTimeout(autoRepeatInterval);
                autoRepeatInterval = null;
            }
            
            updateAutoRepeatInfo();
        }

        // Minden le√°ll√≠t√°sa
        function stopAll() {
            // L√°ncreakci√≥ reset
            chainReactionActive = false;
            chainReactionStarted = false;
            manualStartIndex = -1;
            
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            
            gracefulStopTimeouts.forEach(timeout => clearTimeout(timeout));
            gracefulStopTimeouts = [];
            
            stopAutoRepeat();
            
            if (currentBatchIndex >= 0) {
                const batch = batches[currentBatchIndex];
                const batchPlayers = youtubePlayers.slice(batch.start, batch.end + 1)
                    .filter(player => player !== undefined && player !== null);
                
                batchPlayers.forEach((player) => {
                    if (player && typeof player.stopVideo === 'function') {
                        try {
                            player.stopVideo();
                        } catch (e) {
                            console.log('Hiba a player le√°ll√≠t√°s√°n√°l:', e);
                        }
                    }
                });
            }
            
            activePlayers = 0;
            
            currentBatchIndex = -1;
            timeLeft = 360;
            updateTimer();
            document.getElementById('timerLabel').textContent = 'H√°tral√©v≈ë id≈ë az aktu√°lis batch-ben';
            updateStats();
            
            document.getElementById('statusMessage').innerHTML = '‚èπÔ∏è Minden le√°ll√≠tva!';
            document.getElementById('startButton').disabled = false;
            
            updateBatchProgress();
        }

        // K√∂vetkez≈ë batch bet√∂lt√©se √©s lej√°tsz√°sa - M√ìDOS√çTVA: ciklus sz√°mol√°s
        function nextBatch() {
            // L√°ncreakci√≥ reset
            chainReactionActive = false;
            chainReactionStarted = false;
            manualStartIndex = -1;
            
            if (currentBatchIndex >= 0) {
                clearBatch(currentBatchIndex);
            }
            
            currentBatchIndex++;
            
            if (currentBatchIndex >= batches.length) {
                // Ciklus befejez√©se
                cycleCount++;
                document.getElementById('statusMessage').innerHTML = 
                    `‚úÖ ${cycleCount}. ciklus befejezve! √ñsszes lej√°tsz√°s: ${playbackStats.totalPlaybacks}`;
                
                if (isAutoRepeatActive) {
                    document.getElementById('statusMessage').innerHTML += '<br>üîÑ K√∂vetkez≈ë ciklus el≈ëk√©sz√≠t√©se...';
                    
                    // Linkek kever√©se minden ciklus ut√°n
                    shuffleYouTubeLinks();
                    
                    currentBatchIndex = -1;
                    batches = generateDynamicBatches();
                    updateBatchProgress();
                    scheduleNextRepeat();
                } else {
                    document.getElementById('startButton').disabled = false;
                }
                return;
            }
            
            const batch = batches[currentBatchIndex];
            document.getElementById('statusMessage').innerHTML = `${batch.name} bet√∂lt√©se...`;
            
            updateBatchProgress();
            loadPlayersFromBatch(batch);
        }

        // ========== ESEM√âNYKEZEL≈êK ==========

        // Ind√≠t√°s gomb - M√ìDOS√çTVA: ciklus sz√°mol√°s
        document.getElementById('startButton').addEventListener('click', function() {
            this.disabled = true;
            document.getElementById('statusMessage').innerHTML = 'üöÄ Batch bet√∂lt√©s...';
            currentBatchIndex = -1;
            batches = generateDynamicBatches();
            updateBatchProgress();
            nextBatch();
        });

        // L√°ncreakci√≥ ind√≠t√°sa gomb - √öJ
        document.getElementById('chainButton').addEventListener('click', startChainReactionManually);

        // Automatikus ism√©tl√©s gomb
        document.getElementById('autoButton').addEventListener('click', function() {
            if (isAutoRepeatActive) {
                stopAutoRepeat();
            } else {
                startAutoRepeat();
            }
        });

        // Le√°ll√≠t√°s gomb
        document.getElementById('stopButton').addEventListener('click', stopAll);

        // Manu√°lis tiszt√≠t√°s gomb
        document.getElementById('manualCleanup').addEventListener('click', forceManualCleanup);

        // YouTube API bet√∂lt√©se
        function onYouTubeIframeAPIReady() {
            document.getElementById('statusMessage').textContent = 'YouTube API k√©sz! L√°ncreakci√≥s m√≥d akt√≠v - kattints az els≈ë vide√≥ra!';
            updateStats();
            updateTimer();
            updateAutoRepeatInfo();
            loadPlaybackStats();
            updateBatchProgress();
            updateRiskAssessment();
            updateAdStats();
            
            // L√°nc statisztik√°k inicializ√°l√°sa
            document.getElementById('chainAttempts').textContent = chainAttempts;
            document.getElementById('successfulChains').textContent = successfulChains;
            
            setInterval(monitorMemory, SECURITY_CONFIG.MEMORY.MONITOR_INTERVAL);
            
            if (!window.stealthInitialized) {
                initializeAdvancedStealthSystem();
                window.stealthInitialized = true;
            }
        }

        // Oldal bet√∂lt√©sekor
        window.addEventListener('load', function() {
            updateStats();
            updateBatchProgress();
            updateRiskAssessment();
            updateAdStats();
            
            // L√°nc statisztik√°k inicializ√°l√°sa
            document.getElementById('chainAttempts').textContent = chainAttempts;
            document.getElementById('successfulChains').textContent = successfulChains;
            
            initializeAdvancedStealthSystem();
            
            setInterval(() => {
                const patterns = ['L√°ncreakci√≥s', 'Manu√°lis kezd√©s', 'Emberi ind√≠t√°s', 'Automatikus folytat√°s'];
                const timings = ['V√©letlenszer≈±', 'Dinamikus', 'V√°ltoz√≥', 'Intelligens'];
                const behaviors = ['Emberi kezd√©s', 'Organikus', 'Val√≥s', 'L√°ncreakci√≥'];
                
                document.getElementById('patternCard').querySelector('div:last-child').textContent = 
                    patterns[Math.floor(Math.random() * patterns.length)];
                document.getElementById('timingCard').querySelector('div:last-child').textContent = 
                    timings[Math.floor(Math.random() * timings.length)];
                document.getElementById('behaviorCard').querySelector('div:last-child').textContent = 
                    behaviors[Math.floor(Math.random() * behaviors.length)];
            }, 10000);
            
            setInterval(updateRiskAssessment, 5000);
        });
    </script>
</body>
</html>
